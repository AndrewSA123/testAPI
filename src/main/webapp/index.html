<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <script type="text/javascript">

    function json2table(json, classes) {
  var cols = Object.keys(json[0]);

  var headerRow = '';
  var bodyRows = '';

  classes = classes || '';

  function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

  cols.map(function(col) {
    headerRow += '<th>' + capitalizeFirstLetter(col) + '</th>';
  });

  json.map(function(row) {
    bodyRows += '<tr>';

    cols.map(function(colName) {
      bodyRows += '<td>' + row[colName] + '</td>';
    })

    bodyRows += '</tr>';
  });

  return '<table class="' +
         classes +
         '"><thead><tr>' +
         headerRow +
         '</tr></thead><tbody>' +
         bodyRows +
         '</tbody></table>';
}

/* How to use it */

var defaultData = getAll();

document.getElementById('tableGoesHere').innerHTML = json2table(defaultData, 'table');

/* Live example */

var dom = {
  data: document.getElementById('data'),
  table: document.getElementById('tableGoesHere'),
};

dom.data.value = JSON.stringify(defaultData);
dom.data.addEventListener('input', function() {
  dom.table.innerHTML = json2table(JSON.parse(dom.data.value), 'table');


    function getAll(){
      var http = new XMLHttpRequest();
      var change = document.getElementById("change");
      var url = "http://localhost:8081/cinema-app2/api/movie/getAllMovies";
      http.open("GET", url, false);
      http.send();
      console.log(http.response);
      change.innerHTML = http.response;
      format(http.response);
      return http.response;
    }

    function removeMovie(){
      var http = new XMLHttpRequest();
      var id = document.getElementById("removeID").value;
      var url = "http://localhost:8081/cinema-app2/api/movie/deleteMovie/" + id;
      var change = document.getElementById("removeChange");
      http.open("DELETE", url, false);
      http.send(http.response);

    }



    </script>
    <meta charset="utf-8">
    <title>Movie API Front End</title>
  </head>
  <body>

<p id='change'></p>
<button type="submit" name="getAllButton" onclick="getAll()">Get All Movies</button>
</br>
<button type="submit" name="getAMovie">Get A Movie</button>
</br>
<a href="addAccount.html"><button type="submit" name="addMovie">Add A Movie</button></a>
</br>
<input type="text" id="removeID"></input>
<button type="button" name="button" onclick="removeMovie()">Remove Movie</button>
<p id="removeChange"></p>




  </body>
</html>
